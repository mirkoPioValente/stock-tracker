"use strict";(self.webpackChunkstock_tracker=self.webpackChunkstock_tracker||[]).push([[718],{8718:(N,d,r)=>{r.r(d),r.d(d,{MyStockListModule:()=>J});var u=r(6895),g=r(529),l=r(4006),a=r(2956),t=r(8256),m=r(4128),y=r(3900),f=r(9646);let k=(()=>{class o{constructor(e){this.http=e,this.finnhubURL="https://finnhub.io/api/v1/",this.finnhubAPIKeyTokenString="&token=bu4f8kn48v6uehqi3cqg"}getAllInfo(e){return(0,m.D)([this.getSymbolNames(e),this.getQuote(e)]).pipe((0,y.w)(([n,s])=>{let c=n.result.find(p=>p.symbol===e)||{description:"",displaySymbol:"",symbol:e,type:""};return(0,f.of)({key:c,value:s})}))}getQuote(e){return this.http.get(`${this.finnhubURL}quote?symbol=${e}${this.finnhubAPIKeyTokenString}`)}getSymbolNames(e){return this.http.get(`${this.finnhubURL}search?q=${e}${this.finnhubAPIKeyTokenString}`)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(g.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),h=(()=>{class o{transform(e,n){return e.length>n&&(e=e.slice(0,n-1)+"..."),e}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275pipe=t.Yjl({name:"cutWords",type:o,pure:!0}),o})();const v=["stockInput"];function S(o,i){if(1&o&&(t.TgZ(0,"option",14),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.key),t.xp6(1),t.hij(" ",e.value," ")}}function T(o,i){if(1&o&&(t.TgZ(0,"datalist",12),t.YNc(1,S,2,2,"option",13),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.stockInputOptions)}}function _(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"div")(3,"p",26),t._uU(4,"Previous Close:"),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.ALo(7,"currency"),t.qZA()(),t.TgZ(8,"div")(9,"p",26),t._uU(10,"Current Price:"),t.qZA(),t.TgZ(11,"span"),t._uU(12),t.ALo(13,"currency"),t.qZA()(),t.TgZ(14,"div")(15,"p",26),t._uU(16,"Percent Change:"),t.qZA(),t.TgZ(17,"span"),t._uU(18),t.ALo(19,"number"),t.qZA()(),t.TgZ(20,"div")(21,"p",26),t._uU(22,"Lower Price:"),t.qZA(),t.TgZ(23,"span"),t._uU(24),t.ALo(25,"currency"),t.qZA()(),t.TgZ(26,"div")(27,"p",26),t._uU(28,"Higher Price:"),t.qZA(),t.TgZ(29,"span"),t._uU(30),t.ALo(31,"currency"),t.qZA()(),t.TgZ(32,"div",27)(33,"p",28),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,c=t.oxw(2);return t.KtG(c.goToSentiment(s.key.symbol))}),t._uU(34," See Sentiment's Details "),t.qZA()()()()}if(2&o){const e=t.oxw().$implicit;t.xp6(6),t.Oqu(t.lcZ(7,7,e.value.pc)),t.xp6(6),t.hij("\u{1f852} ",t.lcZ(13,9,e.value.c),""),t.xp6(6),t.AsE("",e.value.dp>0?"+ ":"","",t.xi3(19,11,e.value.dp,"1.2-5")," %"),t.xp6(6),t.Oqu(t.lcZ(25,14,e.value.l)),t.xp6(6),t.Oqu(t.lcZ(31,16,e.value.h)),t.xp6(3),t.Q6J("id","sentiment"+e.key.symbol)}}const b=function(){return{"bg-green-400":!0}},x=function(){return{"bg-red-400":!0}},Z=function(){return{"bg-gray":!0}};function M(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",17)(1,"div",18),t.NdJ("click",function(){const c=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.untrackStock(c))}),t._uU(2," \u26d2 "),t.qZA(),t.TgZ(3,"div",19)(4,"span",20),t._uU(5),t.ALo(6,"cutWords"),t.qZA(),t.TgZ(7,"span",21)(8,"span",22),t._uU(9),t.qZA()()(),t.YNc(10,_,35,18,"div",23),t.qZA()}if(2&o){const e=i.$implicit;t.oxw(2);const n=t.MAs(16);t.xp6(1),t.Q6J("id","remove"+e.key.symbol),t.xp6(4),t.hij(" ",t.xi3(6,7,e.key.description,14)," "),t.xp6(2),t.Q6J("ngClass",e.value.dp>0?t.DdM(10,b):e.value.dp<0?t.DdM(11,x):t.DdM(12,Z)),t.xp6(2),t.AsE("",e.value.dp>0?"\u{1f87d}":e.value.dp<0?"\u{1f87e}":"\u21cc","\xa0",e.key.symbol,""),t.xp6(1),t.Q6J("ngIf",e.value.c)("ngIfElse",n)}}function A(o,i){if(1&o&&(t.TgZ(0,"div",15),t.YNc(1,M,11,13,"div",16),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.stocksTracked)}}function C(o,i){1&o&&(t.TgZ(0,"div",29),t._uU(1," ... sorry, we don't have enough datas to display for the given stock's symbol ... "),t.qZA())}function L(o,i){1&o&&(t.TgZ(0,"div",30),t._uU(1," ... wait, we are collecting the datas you stored ... "),t.qZA())}const I=[{path:"",component:(()=>{class o{constructor(e,n){this.service=e,this.router=n,this.stockSymbol="",this.stockInputOptions=[],this.stocksTracked=[]}ngOnInit(){const e=JSON.parse(localStorage.getItem("stockToTrack")||"[]");this.collectingData=e.length>0,this.updateCards(e)}getPossibleNames(){this.service.getSymbolNames(this.stockSymbol).subscribe(e=>{this.stockInputOptions=[],e.result.forEach(n=>{n.symbol.length<6&&n.symbol.includes(this.stockSymbol)&&!n.symbol.includes(".")&&this.stockInputOptions.push({key:n.symbol,value:`${n.symbol}: ${n.description}`})})})}trackNewSymbol(){const e=localStorage.getItem("stockToTrack");let n=[];e&&(n=JSON.parse(e)),localStorage.setItem("stockToTrack",JSON.stringify([...n,this.stockSymbol])),this.updateCards([this.stockSymbol]),this.stockSymbol=""}untrackStock(e){this.stocksTracked=this.stocksTracked.filter(c=>c.key.symbol!==e.key.symbol);const n=localStorage.getItem("stockToTrack");let s=JSON.parse(n||"[]");s=s.filter(c=>c!==e.key.symbol),localStorage.setItem("stockToTrack",JSON.stringify(s))}updateCards(e){e.forEach(n=>{this.service.getAllInfo(n).subscribe(s=>{this.stocksTracked.push(s)})})}goToSentiment(e){this.router.navigate(["/sentiment",e])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(k),t.Y36(a.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-my-stock-list"]],viewQuery:function(e,n){if(1&e&&t.Gf(v,5),2&e){let s;t.iGM(s=t.CRH())&&(n.stockInput=s.first)}},decls:19,vars:5,consts:[[1,"grid","gap-4","grid-cols-3","mx-auto","text-center","py-6"],[1,"bg-red-100","rounded-lg","p-7"],[1,"text-4xl","font-bold"],[1,"text-xl","mb-3","mt-2"],[1,"grid","grid-cols-2"],["id","stockInput","name","stockInput","type","text","placeholder","Insert a stock's symbol...","maxlength","5","required","","list","stockInputOptions",1,"form-input","text-left","py-3","px-5","rounded-full",3,"ngModel","ngModelChange","keyup"],["stockInput","ngModel"],["id","stockInputOptions",4,"ngIf"],["id","trackBtn",1,"bg-blue-700","text-white","italic","font-bold","py-2","ml-10","float-right","rounded-lg","disabled:bg-blue-400",3,"disabled","click"],["class","grid grid-cols-3 gap-3 px-4 mt-7",4,"ngIf","ngIfElse"],["noDatasTemplate",""],["collectingDataTemplate",""],["id","stockInputOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"grid","grid-cols-3","gap-3","px-4","mt-7"],["class","rounded-lg bg-white p-5 relative",4,"ngFor","ngForOf"],[1,"rounded-lg","bg-white","p-5","relative"],[1,"absolute","font-bold","text-3xl","-right-3","-top-3","cursor-pointer",3,"id","click"],[1,"flex","flex-row"],[1,"font-bold","text-3xl","basis-4/5"],[1,"rounded-lg","bg-green-400","text-white","p-2","basis-1/5","text-center",3,"ngClass"],[1,"font-bold","text-xl","text-right"],["class","container clear-both pt-4",4,"ngIf","ngIfElse"],[1,"container","clear-both","pt-4"],[1,"grid","grid-cols-3","gap-1"],[1,"font-bold"],[1,"relative"],["routerLink","",1,"absolute","text-xs","text-blue-600","bottom-0","right-0","cursor-pointer",3,"id","click"],[1,"italic","text-2xl","px-8","my-8","container","clear-both"],[1,"italic","text-2xl","px-16","my-8","container","clear-both","rounded-lg","bg-white"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div"),t._uU(2,"\xa0"),t.qZA(),t.TgZ(3,"div",1)(4,"p",2),t._uU(5,"My Stock List"),t.qZA(),t.TgZ(6,"p",3),t._uU(7," Enter the symbol of a stock to track (i.e. AAPL, TSLA, GOOGL ...) "),t.qZA(),t.TgZ(8,"div",4)(9,"input",5,6),t.NdJ("ngModelChange",function(c){return n.stockSymbol=c})("keyup",function(){return n.getPossibleNames()}),t.qZA(),t.YNc(11,T,2,1,"datalist",7),t.TgZ(12,"button",8),t.NdJ("click",function(){return n.trackNewSymbol()}),t._uU(13," \u279c Track Stock "),t.qZA()()()(),t.YNc(14,A,2,1,"div",9),t.YNc(15,C,2,0,"ng-template",null,10,t.W1O),t.YNc(17,L,2,0,"ng-template",null,11,t.W1O)),2&e){const s=t.MAs(10),c=t.MAs(18);t.xp6(9),t.Q6J("ngModel",n.stockSymbol),t.xp6(2),t.Q6J("ngIf",n.stockInputOptions.length>1||1===n.stockInputOptions.length&&(null==n.stockInputOptions[0]?null:n.stockInputOptions[0].key)!==n.stockSymbol),t.xp6(1),t.Q6J("disabled",s.invalid),t.xp6(2),t.Q6J("ngIf",n.collectingData&&0!==(null==n.stocksTracked?null:n.stocksTracked.length))("ngIfElse",c)}},dependencies:[a.rH,l.YN,l.Kr,l.Fj,l.JJ,l.Q7,l.nD,l.On,u.mk,u.sg,u.O5,u.JJ,u.H9,h]}),o})()}];let O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[a.Bz.forChild(I),a.Bz]}),o})(),J=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[k],imports:[O,l.u5,u.ez,g.JF]}),o})()}}]);